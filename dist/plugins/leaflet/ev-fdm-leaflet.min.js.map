{"version":3,"file":"ev-fdm-leaflet.min.js","sources":["LeafletDirective.js"],"names":[],"mappings":"AAAA,QAAA,OAAA,cAAA,sBACA,SAAA,YAAA,WACA,KAAA,KAAA,WACA,OAAA,MAAA,KAAA,QAGA,KAAA,SAAA,SAAA,GACA,KAAA,MAAA,KAGA,UAAA,aAAA,cAAA,YAAA,SAAA,EAAA,GACA,OACA,SAAA,+FACA,SAAA,KACA,OACA,WAAA,IACA,SAAA,KAEA,WAAA,SAAA,GAGA,GAAA,IACA,UAAA,GAAA,IACA,YAAA,EAAA,GACA,YAAA,EAAA,KAGA,EAAA,EAAA,KAEA,YAAA,IACA,QAAA,OAAA,EAAA,QAAA,GAEA,aAAA,IACA,QAAA,OAAA,EAAA,UAAA,GAIA,EAAA,UACA,iBAAA,EACA,iBAAA,GAIA,EAAA,SACA,QACA,IAAA,EAAA,WAAA,SACA,IAAA,EAAA,WAAA,UACA,OAAA,IAKA,EAAA,QACA,IAAA,EAAA,WAAA,SACA,IAAA,EAAA,WAAA,UACA,KAAA,GAGA,EAAA,OAAA,WAAA,WACA,GAAA,GAAA,EAAA,QACA,GAAA,QAAA,OAAA,KAAA,EAAA,EAAA,UAAA,EAAA,WACA,EAAA,QAAA,OAAA,UAAA","sourcesContent":["angular.module('ev-leaflet', ['leaflet-directive'])\n    .provider('evLeaflet', function() {\n        this.$get =function () {\n            return {icons: this.icons};\n        };\n\n        this.setIcons =function (icons) {\n            this.icons = icons;\n        };\n    })\n    .directive('evLeaflet', ['leafletData', 'evLeaflet', function (leafletData, evLeaflet) {\n        return {\n            template: '<leaflet class=\"ev-leaflet\" defaults=\"defaults\" markers=\"markers\" center=\"center\"></leaflet>',\n            restrict: 'AE',\n            scope: {\n                coordinate: '=',\n                editable: '='\n            },\n            controller:function ($scope) {\n\n                // Icons settings\n                var baseIcon = {\n                    iconSize:   [40, 40],\n                    shadowSize: [1, 1],\n                    iconAnchor: [1, 20]\n                };\n\n                var icons = evLeaflet.icons;\n\n                if ('default' in icons) {\n                    angular.extend(icons.default, baseIcon);\n                }\n                if ('draggable' in icons) {\n                    angular.extend(icons.draggable, baseIcon);\n                }\n\n\n                $scope.defaults = {\n                    scrollWheelZoom: false,\n                    doubleClickZoom: false\n                };\n\n                // Setting a marker in location\n                $scope.markers = {\n                    marker: {\n                        lat: $scope.coordinate.latitude,\n                        lng: $scope.coordinate.longitude,\n                        focus: true\n                    }\n                };\n\n                // Setting map center\n                $scope.center = {\n                    lat: $scope.coordinate.latitude,\n                    lng: $scope.coordinate.longitude,\n                    zoom: 8\n                };\n\n                $scope.$watch('editable', function () {\n                    var edited = $scope.editable;\n                    $scope.markers.marker.icon = edited ? icons.draggable : icons['default'];\n                    $scope.markers.marker.draggable = edited;\n                });\n            }\n        };\n    }]);\n"],"sourceRoot":"/source/"}