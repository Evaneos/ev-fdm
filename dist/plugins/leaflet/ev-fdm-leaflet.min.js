angular.module("ev-leaflet",["leaflet-directive"]).provider("evLeaflet",function(){this.$get=function(){return{icons:this.icons,tiles:this.tiles}},this.setIcons=function(e){this.icons=e},this.setTiles=function(e){this.tiles=e}}).directive("evLeaflet",["leafletData","evLeaflet","$log",function(e,t,a){return{template:'<leaflet class="ev-leaflet" defaults="defaults" markers="markers" center="center" tiles="tiles" bounds="bounds"></leaflet>',restrict:"AE",scope:{coordinates:"=",defaultCoordinates:"=?",boundingbox:"=?",editable:"="},controller:function(e){function n(){return e.boundingbox?(e.bounds||(e.bounds={southWest:{},northEast:{}}),e.bounds.southWest.lat=e.boundingbox.southLatitude,e.bounds.southWest.lng=e.boundingbox.westLongitude,e.bounds.northEast.lat=e.boundingbox.northLatitude,void(e.bounds.northEast.lng=e.boundingbox.eastLongitude)):(e.center||(e.center={zoom:8}),e.center.lat=e.markers.marker.lat,void(e.center.lng=e.markers.marker.lng))}var o={iconSize:[40,40],shadowSize:[1,1],iconAnchor:[1,20]},r=t.icons;"default"in r&&angular.extend(angular.copy(o),r["default"]),"draggable"in r&&angular.extend(angular.copy(o),r.draggable);var l=t.tiles;l&&(e.tiles=l),e.defaults={scrollWheelZoom:!1,doubleClickZoom:!1},e.markers={marker:{focus:!0}},e.$watch("coordinates.latitude",function(t){(isNaN(t)||null==t)&&(t=e.defaultCoordinates&&null!=e.defaultCoordinates.latitude?e.defaultCoordinates.latitude:0,a.warn("ev-leaflet: latitude is not a number")),e.markers.marker.lat!=t&&(e.markers.marker.lat=t,n())}),e.$watch("coordinates.longitude",function(t){(isNaN(t)||null==t)&&(t=e.defaultCoordinates&&null!=e.defaultCoordinates.longitude?e.defaultCoordinates.longitude:0,a.warn("ev-leaflet: longitude is not a number")),e.markers.marker.lng!=t&&(e.markers.marker.lng=t,n())}),n(),e.$watch("boundingbox",function(e){n()}),e.$watch("markers.marker.lat",function(t){null!=t&&e.editable&&(e.coordinates.latitude=t)}),e.$watch("markers.marker.lng",function(t){null!=t&&e.editable&&(e.coordinates.longitude=t)}),e.$watch("editable",function(){var t=e.editable;e.markers.marker.icon=t?r.draggable:r["default"],e.markers.marker.draggable=t})}}}]);
//# sourceMappingURL=ev-fdm-leaflet.min.js.map