angular.module("ev-leaflet",["leaflet-directive"]).provider("evLeaflet",function(){this.$get=function(){return{icons:this.icons}},this.setIcons=function(e){this.icons=e}}).directive("evLeaflet",["leafletData","evLeaflet","$log",function(e,a,t){return{template:'<leaflet class="ev-leaflet" defaults="defaults" markers="markers" center="center"></leaflet>',restrict:"AE",scope:{coordinates:"=",defaultCoordinates:"=?",editable:"="},controller:function(e){function r(){e.center?(e.center.lat=e.markers.marker.lat,e.center.lng=e.markers.marker.lng):e.center={lat:e.markers.marker.lat,lng:e.markers.marker.lng,zoom:8}}var l={iconSize:[40,40],shadowSize:[1,1],iconAnchor:[1,20]},n=a.icons;"default"in n&&angular.extend(angular.copy(l),n.default),"draggable"in n&&angular.extend(angular.copy(l),n.draggable),e.defaults={scrollWheelZoom:!1,doubleClickZoom:!1},e.markers={marker:{focus:!0}},e.$watch("coordinates.latitude",function(a){(isNaN(a)||null==a)&&(a=e.defaultCoordinates&&null!=e.defaultCoordinates.latitude?e.defaultCoordinates.latitude:0,t.warn("ev-leaflet: latitude is not a number")),e.markers.marker.lat=a,r()}),e.$watch("coordinates.longitude",function(a){(isNaN(a)||null==a)&&(a=e.defaultCoordinates&&null!=e.defaultCoordinates.longitude?e.defaultCoordinates.longitude:0,t.warn("ev-leaflet: longitude is not a number")),e.markers.marker.lng=a,r()}),r(),e.$watch("markers.marker.lat",function(a){null!=a&&e.editable&&(e.coordinates.latitude=a)}),e.$watch("markers.marker.lng",function(a){null!=a&&e.editable&&(e.coordinates.longitude=a)}),e.$watch("editable",function(){var a=e.editable;e.markers.marker.icon=a?n.draggable:n["default"],e.markers.marker.draggable=a})}}}]);
//# sourceMappingURL=ev-fdm-leaflet.min.js.map