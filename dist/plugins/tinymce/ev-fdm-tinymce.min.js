!function(n){var e={menubar:!1,statusbar:!1,resize:!1,toolbar:"bold italic underline | alignleft aligncenter alignright | bullist",skin:!1,verify_html:!0,convert_fonts_to_spans:!0,content_css:"/bower_components/ev-fdm/dist/css/ev-fdm.min.css"};angular.module("ev-tinymce",[]).directive("evTinymce",[function(){var t=0;return{template:'<div class="tiny-mce-wrapper"><div class="ev-placeholder-container"></div><div class="ev-tinymce-content"></div><span class="max-chars-info">&nbsp;</span></div>',restrict:"AE",replace:!0,require:"?ngModel",scope:{tinymceOptions:"="},link:function(i,o,c,a){function r(){h.show(),h.html(s()),i.$evalAsync(function(){h.click(function(){v()||n.init(f),n.execCommand("mceToggleEditor",!1,u);var e=v();h.hide(),e.focus(),e.on("blur",function(){n.execCommand("mceToggleEditor",!1,u),h.html(s()),d().hide(),h.show()})})})}var l=function(){a.$setViewValue(d().html()),i.$root.$$phase||i.$apply()},s=function(){return a.$viewValue&&""!==a.$viewValue?a.$viewValue:'<span class="placeholder-light">'+c.placeholder+"</span>"},u="uiTinymce"+t++,d=function(){return o.find(".ev-tinymce-content")};d().attr("id",u);var m,v=function(){return m||(m=n.get(u)),m},f=angular.extend({},e,i.tinymceOptions),p=function(n){n.on("init",function(){a.$render()}),n.on("ExecCommand",function(){n.save(),l()}),n.on("KeyUp",function(){n.save(),l()}),n.on("SetContent",function(e){e.initial||(n.save(),l())}),n.on("blur",function(){d().blur()})};f.setup=p,f.elems=u,f.mode="exact";var h=o.find(".ev-placeholder-container");h.hide(),c.placeholder?r():(n.init(f),n.execCommand("mceToggleEditor",!1,u)),a.$render=function(){h.html(s());var n=v();n&&n.setContent(a.$viewValue||"")},i.$on("$destroy",function(){m&&(m.destroy(),m=null)})}}}])}(window.tinyMCE);
//# sourceMappingURL=ev-fdm-tinymce.min.js.map