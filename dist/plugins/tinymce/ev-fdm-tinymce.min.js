!function(e){var n={menubar:!1,statusbar:!1,toolbar:"bold italic underline | alignleft aligncenter alignright | bullist",verify_html:!0,convert_fonts_to_spans:!0,inline:!0};angular.module("ev-tinymce",[]).directive("evTinymce",[function(){var t=0;return{template:'<div class="tiny-mce-wrapper"><div class="ev-placeholder-container"></div><div class="ev-tinymce-content"></div><div class="ev-tinymce-toolbar"></div></div>',restrict:"AE",replace:!0,require:"?ngModel",scope:{tinymceOptions:"="},link:function(i,o,a,l){var r=function(){if(l.$setViewValue(s.html()),""===s.html()||""===s.text()){p=!0;var e=u();e&&e.setContent('<span class="placeholder">'+a.placeholder+"</span>")}i.$root.$$phase||i.$apply()},c="uiTinymce"+t++,s=o.find(".ev-tinymce-content");s.attr("id",c),o.find(".ev-tinymce-toolbar").attr("id",c+"toolbar");var d,u=function(){return d||(d=e.get(c)),d},v=angular.extend({fixed_toolbar_container:"#"+c+"toolbar"},n,i.tinymceOptions),m=function(e){e.on("init",function(){l.$render()}),e.on("ExecCommand",function(){r()}),e.on("KeyUp",function(){r()}),e.on("SetContent",function(e){e.initial||r()}),e.on("blur",function(){s.blur(),p&&l.$render()}),e.on("focus",function(){console.log(p),p&&(e.setContent(""),p=!1)})};v.setup=m,v.elems=c,v.mode="exact",e.init(v),e.execCommand("mceToggleEditor",!1,c);var p=!1;l.$render=function(){var e=u();e&&(l.$viewValue&&""!==l.$viewValue?e.setContent(l.$viewValue):(p=!0,e.setContent('<span class="placeholder">'+a.placeholder+"</span>")))},console.log("tadam")}}}])}(window.tinyMCE);
//# sourceMappingURL=ev-fdm-tinymce.min.js.map