angular.module("ev-tinymce",["ui.tinymce"]).directive("evTinymce",[function(){return{template:'<div class="tiny-mce-wrapper"><textarea ui-tinymce="tinymceFinalOptions" ng-model="ngModel"></textarea><span class="max-chars-info">&nbsp;</span></div>',restrict:"AE",replace:!1,scope:{ngModel:"=",tinymceOptions:"="},controller:["$scope","$attrs","$element",function(n,e,t){var a={menubar:!1,statusbar:!1,resize:!1,toolbar:"bold italic underline | alignleft aligncenter alignright | bullist",content_css:"/bower_components/ev-fdm/dist/css/ev-fdm.min.css",skin:!1,verify_html:!0,convert_fonts_to_spans:!0};n.tinymceFinalOptions=angular.extend({},a,n.tinymceOptions),n.tinymceFinalOptions.maxChars=e.maxChars||n.tinymceFinalOptions.maxChars||null;var i=85,s=function(n,e){var a=t.parent().find(".max-chars-info");a.text(n+" / "+e);var s=n/e*100>i,l=n>=e,r="max-chars-warning",c="max-chars-reached";s?a.addClass(r):a.removeClass(r),l?a.addClass(c):a.removeClass(c)},l=function(e){if(null!==n.tinymceFinalOptions.maxChars){var t="",a="",i="",l=n.tinymceFinalOptions.maxChars;e.on("init",function(){n.$watch(function(){return e.getContent()},function(e,r){t=angular.element(e).text(),a=t.length,i=angular.element(r).text();var c=i.length>l&&a>l;if(c){var o=i.substring(0,l);n.ngModel=o,a=o.length}else a>l&&(n.ngModel=r,a=angular.element(n.ngModel).text().length);s(a,l)})})}};n.tinymceFinalOptions.setup=l}]}}]);
//# sourceMappingURL=ev-fdm-tinymce.min.js.map